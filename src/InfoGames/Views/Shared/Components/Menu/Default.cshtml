@using InfoGames.Helper
@model Usuario
@inject ISessao _sessao

@{
    var usuarioLogado = _sessao.BuscarSessaoDoUsuario();
    var nomeDeUsuario = usuarioLogado != null ? Model.NomeDeUsuario : "Visitante";
}

<a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">Olá, @nomeDeUsuario</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
        aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>
<div class="navbar-collapse collapse d-sm-inline-flex justify-content-end">
    <ul class="navbar-nav">
        <li>

            <form class="form-inline" asp-controller="Jogo" asp-action="Index" method="get" onsubmit="return false;">

                <input type="hidden" name="pageSize" value="@ViewBag.pageSize" />
                <div class="input-group">
                    <input class="form-control mr-sm-2" type="search" placeholder="Buscar por jogos" aria-label="Search" name="searchTerm" id="searchTerm" onchange="submitSearch()">
                    <div class="input-group-append">
                        <button class="btn btn-outline-success my-2 my-sm-0 visually-hidden" type="button" onclick="submitSearch()" />
                    </div>
                </div>

            </form>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" asp-controller="Loja" asp-action="Index">Lojas</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" asp-area="" asp-controller="Jogo" asp-action="Index">Jogos</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" asp-area="" asp-controller="Usuarios" asp-action="Index">Usuarios</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" asp-area="" asp-controller="Login" asp-action="Index" style="@(_sessao.BuscarSessaoDoUsuario() != null ? "display: none;" : "")">Login</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" asp-area="" asp-controller="Login" asp-action="Sair" style="@(_sessao.BuscarSessaoDoUsuario() != null ? "" : "display: none;")">Sair</a>
        </li>
    </ul>
</div>
